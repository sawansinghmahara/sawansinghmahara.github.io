---
layout: page
title: "Docker"
categories: Computers
date:   2021-04-12 21:21:21 +0530
tags:
  - docker
  - computer software
subtitle: An overview of what it is, some anecdotal usages and some useful commands
permalink: "/_posts/docker"
---
# What is Docker?

It is a virtualisation of hardware to run containerised applications with all dependencies packaged in it!

I will elaborate that in English, soon!

# Commands

I will update this soon!

# Anecdotal Usages
## Removing Selected Docker Containers

Type 

```bash
{% raw %} docker ps -a --format {{.Names}} > names.txt {% endraw %}
```

to get all the names of the docker images, stored in the text file `names.txt`.
* Add, delete or keep all the entries in the text file the same.
* The following code deletes all the containers whose names are present in `name.txt`

```python
import os
with open('names.txt') as fp:
    for line in fp:
        os.system(f"docker rm {line}")
```


## Making this website!

Working with jekyll is sort of fun and interesting, but getting ruby and gems installed on my computer isn't. Docker came to the rescue and long story short, by running

```python
docker run --rm -it --volume="$PWD:/srv/jekyll" --volume="$PWD/vendor/bundle:/usr/local/bundle" --env JEKYLL_ENV=production jekyll/jekyll:3.8 jekyll build
```

to pull the docker image if it isn't installed, I was able to build the base website locally.

This was then followed by a simple

```bash
docker run --rm --volume="$PWD:/srv/jekyll" --volume="$PWD/vendor/bundle:/usr/local/bundle" --env JEKYLL_ENV=development -p 4000:4000 jekyll/jekyll:3.8 jekyll serve
```

to serve up the site locally! Now I can make changes and see the effects immediately, rather than wait for Github to load changes.

Now I don't have to be bothered about umpteen dependencies being installed or be surprised when it works on a Tuesday, but not on a Wednesday!



<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
